<div class="card-table-container">
  <div class="table-card">
    <table class="styled-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripci√≥n</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for (institucion of instituciones; track institucion.id) {
        <tr>
          <td class="nombre-cell">
            <div class="nombre-content">
              <span class="table_name">{{ institucion.nombre }}</span>
            </div>
          </td>
          <td>
            <div class="descripcion-content">
              <span class="descripcion-text">{{
                institucion.descripcion
              }}</span>
              @if (institucion.direccion && institucion.direccion.length > 0) {
              <div class="direccion-info">
                <span class="direccion-icon">üìç</span>
                <span class="direccion-text">{{
                  institucion.direccion[0]
                }}</span>
              </div>
              }
            </div>
          </td>
          <td>
            @if (institucion.activo) {
            <span class="status-badge status-activo">Activo</span>
            } @else {
            <span class="status-badge status-inactivo">Inactivo</span>
            }
          </td>
          <td class="actions-cell">
            <button
              class="action-btn edit-btn"
              (click)="editarInstitucion(institucion)"
            >
              <span class="edit-icon">
                <img
                  class="img-edit"
                  src="../../assets/editar.gif"
                  alt=""
                  srcset=""
                  data-bs-toggle="modal"
                  data-bs-target="#editCreateModal"
                />
              </span>
            </button>
            <button
              class="action-btn view-btn"
              (click)="eliminarInstituto(institucion)"
            >
              <span class="delete-icon">
                <img
                  class="img-delete"
                  src="../../assets/eliminar.png"
                  alt=""
                  srcset=""
                />
              </span>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

<!-- MODAL PARA EDITAR INSTITUCI√ìN| CREACI√ìN -->

<div
  class="modal fade modal-edit-create"
  id="editCreateModal"
  tabindex="-1"
  aria-labelledby="editCreateModal"
  aria-hidden="true"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="closeModal()"
        ></button>
      </div>
      <div class="modal-body">
        <!-- FORM DANIEL -->
        <app-form
          (closeModalEvent)="onFormCloseModal()"
          [institutoSeleccionado]="institutoSelectado()"
        />
      </div>
    </div>
  </div>
</div>
